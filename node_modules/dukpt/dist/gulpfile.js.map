{"version":3,"sources":["../gulpfile.js"],"names":["gulp","require","eslint","mocha","istanbul","coveralls","path","fs","lint","src","pipe","format","failOnError","pretest","includeUntested","hookRequire","test","read","writeReports","dir","reportOpts","reporters","enforceThresholds","thresholds","global","watch","task"],"mappings":";;AAAA,IAAMA,OAAOC,QAAQ,MAAR,CAAb;AACA,IAAMC,SAASD,QAAQ,aAAR,CAAf;AACA,IAAME,QAAQF,QAAQ,YAAR,CAAd;AACA,IAAMG,WAAWH,QAAQ,eAAR,CAAjB;AACA,IAAMI,YAAYJ,QAAQ,gBAAR,CAAlB;AACA,IAAMK,OAAOL,QAAQ,MAAR,CAAb;AACA,IAAMM,KAAKN,QAAQ,IAAR,CAAX;;AAEA,SAASO,IAAT,GAAgB;AACZ,WAAOR,KAAKS,GAAL,CAAS,CAAC,YAAD,EAAe,YAAf,CAAT,EACFC,IADE,CACGR,QADH,EAEFQ,IAFE,CAEGR,OAAOS,MAAP,EAFH,EAGFD,IAHE,CAGGR,OAAOU,WAAP,EAHH,CAAP;AAIH;;AAED,SAASC,OAAT,GAAmB;AACf,WAAOb,KAAKS,GAAL,CAAS,CAAC,YAAD,EAAe,YAAf,CAAT,EACFC,IADE,CACGN,SAAS,EAAEU,iBAAiB,IAAnB,EAAT,CADH,EAEFJ,IAFE,CAEGN,SAASW,WAAT,EAFH,CAAP;AAGH;;AAED,SAASC,IAAT,GAAgB;AACZhB,SAAKS,GAAL,CAAS,CAAC,gBAAD,CAAT,EAA6B,EAAEQ,MAAM,KAAR,EAA7B,EACKP,IADL,CACUP,OADV,EAEKO,IAFL,CAEUN,SAASc,YAAT,CAAsB;AACxBC,aAAK,gBADmB;AAExBC,oBAAY;AACRD,iBAAK;AADG,SAFY;AAKxBE,mBAAW,CAAC,MAAD,EAAS,MAAT,EAAiB,cAAjB,EAAiC,WAAjC;AALa,KAAtB,CAFV,EASKX,IATL,CASUN,SAASkB,iBAAT,CAA2B,EAAEC,YAAY,EAAEC,QAAQ,CAAV,EAAd,EAA3B,CATV;AAUA,WAAOxB,KAAKS,GAAL,CAAS,yBAAT,EACFC,IADE,CACGL,WADH,CAAP;AAEH;;AAED,SAASoB,KAAT,GAAiB;AACb,WAAOzB,KAAKyB,KAAL,CAAW,CAAC,YAAD,EAAe,YAAf,CAAX,EAAyC,MAAzC,CAAP;AACH;;AAEDzB,KAAK0B,IAAL,CAAU,MAAV,EAAkBlB,IAAlB;AACAR,KAAK0B,IAAL,CAAU,SAAV,EAAqBb,OAArB;AACAb,KAAK0B,IAAL,CAAU,MAAV,EAAkB,CAAC,SAAD,CAAlB,EAA+BV,IAA/B;AACAhB,KAAK0B,IAAL,CAAU,OAAV,EAAmBD,KAAnB;;AAEAzB,KAAK0B,IAAL,CAAU,SAAV,EAAqB,CAAC,MAAD,CAArB","file":"gulpfile.js","sourcesContent":["const gulp = require('gulp');\nconst eslint = require('gulp-eslint');\nconst mocha = require('gulp-mocha');\nconst istanbul = require('gulp-istanbul');\nconst coveralls = require('gulp-coveralls');\nconst path = require('path');\nconst fs = require('fs');\n\nfunction lint() {\n    return gulp.src(['./index.js', './lib/*.js'])\n        .pipe(eslint())\n        .pipe(eslint.format())\n        .pipe(eslint.failOnError());\n}\n\nfunction pretest() {\n    return gulp.src(['./index.js', './lib/*.js'])\n        .pipe(istanbul({ includeUntested: true }))\n        .pipe(istanbul.hookRequire());\n}\n\nfunction test() {\n    gulp.src(['./test/**/*.js'], { read: false })\n        .pipe(mocha())\n        .pipe(istanbul.writeReports({\n            dir: 'test-coverage/',\n            reportOpts: {\n                dir: 'test-coverage/'\n            },\n            reporters: ['lcov', 'text', 'text-summary', 'cobertura']\n        }))\n        .pipe(istanbul.enforceThresholds({ thresholds: { global: 1 } }));\n    return gulp.src('test-coverage/lcov.info')\n        .pipe(coveralls());\n}\n\nfunction watch() {\n    return gulp.watch(['./index.js', './lib/*.js'], 'test');\n}\n\ngulp.task('lint', lint);\ngulp.task('pretest', pretest);\ngulp.task('test', ['pretest'], test);\ngulp.task('watch', watch);\n\ngulp.task('default', ['test']);"]}